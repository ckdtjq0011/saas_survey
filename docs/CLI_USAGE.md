# CLI 사용 가이드

병원 만족도 설문조사 플랫폼의 인터랙티브 CLI 사용 방법입니다.

## 실행 방법

```bash
python main.py
```

## 메뉴 구조

프로그램을 실행하면 다음과 같은 메뉴가 표시됩니다:

```
============================================================
                병원 만족도 설문조사 플랫폼
============================================================

메뉴
--
1. 설문 생성
2. 질문 추가
3. 설문 조회
4. 설문 목록
5. 응답 제출
6. 결과 조회
0. 종료

선택:
```

## 기능별 사용법

### 1. 설문 생성

새로운 설문을 생성합니다.

```
선택: 1

설문 생성
--------
설문 제목: 2024년 병원 만족도 조사
설문 설명: 환자분들의 병원 이용 경험을 개선하기 위한 설문입니다

[성공] 설문이 생성되었습니다 (ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939)
```

### 2. 질문 추가

생성된 설문에 질문을 추가합니다.

```
선택: 2

질문 추가
--------

사용 가능한 설문:
1. [eac2db48-c7b3-4e7e-aecb-8d6c3d700939] 2024년 병원 만족도 조사
2. [74422c71-bf0f-42a1-b38d-836c8ab51570] 2024년 병원 만족도 조사

설문 ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939
질문 내용: 전반적인 병원 서비스에 만족하십니까?

질문 유형:
1. 텍스트 (text)
2. 평점 (rating)
3. 객관식 (choice)

유형 선택: 2

[성공] 질문이 추가되었습니다 (ID: 776ebdab-bf12-4af9-a5b5-32a101c9b782)
```

#### 객관식 질문 추가 예시

```
선택: 2

질문 추가
--------
설문 ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939
질문 내용: 가장 만족스러웠던 부분은 무엇입니까?

질문 유형:
1. 텍스트 (text)
2. 평점 (rating)
3. 객관식 (choice)

유형 선택: 3
선택지 (|로 구분): 의료진 친절도|대기 시간|시설 청결도|진료 결과

[성공] 질문이 추가되었습니다 (ID: d56bcdd5-3a0a-48ba-8585-fa7b7e7ef754)
```

### 3. 설문 조회

특정 설문의 상세 정보를 조회합니다.

```
선택: 3

설문 조회
--------
설문 ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939

제목: 2024년 병원 만족도 조사
설명: 환자분들의 병원 이용 경험을 개선하기 위한 설문입니다
생성일: 2025-10-13T15:42:39.211985

질문 목록 (총 3개):

[1] 전반적인 병원 서비스에 만족하십니까?
    ID: 776ebdab-bf12-4af9-a5b5-32a101c9b782
    유형: rating

[2] 가장 만족스러웠던 부분은 무엇입니까?
    ID: d56bcdd5-3a0a-48ba-8585-fa7b7e7ef754
    유형: choice
    선택지: 의료진 친절도, 대기 시간, 시설 청결도, 진료 결과

[3] 개선이 필요한 사항을 자유롭게 작성해주세요
    ID: fbb697c6-74b2-4afc-b205-cdaa916706a6
    유형: text
```

### 4. 설문 목록

등록된 모든 설문 목록을 조회합니다.

```
선택: 4

설문 목록
--------

총 3개의 설문:

[1] 2024년 병원 만족도 조사
    ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939
    설명: 환자분들의 병원 이용 경험을 개선하기 위한 설문입니다
    질문 수: 3개

[2] 2024년 병원 만족도 조사
    ID: 74422c71-bf0f-42a1-b38d-836c8ab51570
    설명: 환자분들의 병원 이용 경험을 개선하기 위한 설문입니다
    질문 수: 3개

[3] API 테스트 설문
    ID: fbf09a1e-9b55-4f76-948d-ebbd717ba234
    설명: FastAPI를 통한 테스트입니다
    질문 수: 2개
```

### 5. 응답 제출

설문에 응답을 제출합니다.

```
선택: 5

응답 제출
--------
설문 ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939

설문: 2024년 병원 만족도 조사
응답자 ID: patient_001

각 질문에 답변해주세요:

[1] 전반적인 병원 서비스에 만족하십니까?
    유형: rating
    1-5 사이의 숫자를 입력하세요
답변: 5

[2] 가장 만족스러웠던 부분은 무엇입니까?
    유형: choice
    선택지: 의료진 친절도, 대기 시간, 시설 청결도, 진료 결과
답변: 의료진 친절도

[3] 개선이 필요한 사항을 자유롭게 작성해주세요
    유형: text
답변: 모든 것이 만족스러웠습니다

응답을 제출하시겠습니까? (y/n): y

[성공] 응답이 제출되었습니다
```

### 6. 결과 조회

설문 결과 통계를 조회합니다.

```
선택: 6

결과 조회
--------
설문 ID: eac2db48-c7b3-4e7e-aecb-8d6c3d700939

설문 결과:

질문 ID: 776ebdab-bf12-4af9-a5b5-32a101c9b782
총 응답 수: 3개
평균 평점: 4.67

질문 ID: d56bcdd5-3a0a-48ba-8585-fa7b7e7ef754
총 응답 수: 3개
응답 분포:
  의료진 친절도: 2개
  시설 청결도: 1개

질문 ID: fbb697c6-74b2-4afc-b205-cdaa916706a6
총 응답 수: 3개
텍스트 응답:
  - 모든 것이 만족스러웠습니다
  - 대기 시간이 조금 길었습니다
  - 진료가 매우 만족스러웠습니다
```

### 0. 종료

프로그램을 종료합니다.

```
선택: 0

[정보] 프로그램을 종료합니다
```

## 주요 특징

1. 인터랙티브 메뉴 기반 UI
2. 단계별 입력 안내
3. 실시간 유효성 검증
4. 에러 처리 및 사용자 친화적 메시지
5. 확인 프롬프트 (응답 제출 시)

## 데이터 저장

모든 데이터는 `data/` 디렉토리의 CSV 파일에 저장됩니다:
- `surveys.csv`: 설문 기본 정보
- `questions.csv`: 질문 정보
- `responses.csv`: 응답 정보

## 오류 처리

프로그램 실행 중 오류가 발생하면 다음과 같이 표시됩니다:

```
[오류] 설문 조회 중 오류가 발생했습니다
```

로그 파일에 상세한 스택 트레이스가 기록되며, 프로그램은 계속 실행됩니다.

## 종료 방법

- 메뉴에서 `0` 선택
- `Ctrl+C` 키 입력

## 팁

1. 설문 ID와 질문 ID는 설문 조회 기능으로 확인할 수 있습니다
2. 객관식 질문의 선택지는 `|` 문자로 구분합니다
3. 평점은 1-5 사이의 숫자만 입력 가능합니다
4. 모든 입력은 공백이 자동으로 제거됩니다
